/*
===============================================================================================================================
               ULTIMAS ATUALIZAÇÕES EFETUADAS - CONSULTAR LOG DO VERSIONADOR PARA HISTORICO COMPLETO
===============================================================================================================================
 Autor        |    Data    |                              Motivo                      										 
-------------------------------------------------------------------------------------------------------------------------------
 Julio Paz    | 07/05/2018 | Padronização dos cabeçalhos dos fontes e funções do módulo financeiro. Chamado 24726.
===============================================================================================================================
*/

//====================================================================================================
// Definicoes de Includes da Rotina.
//====================================================================================================

#include "protheus.ch"

/*
===============================================================================================================================
Programa----------: AFIN008 
Autor-------------: Emerson Dias
Data da Criacao---: 02/12/2008
===============================================================================================================================
Descrição---------: Funcao para retornar o campo livre do codigo de barras.
                    Funcao chamada nos CNAB a Pagar. 
===============================================================================================================================
Parametros--------: Nenhum
===============================================================================================================================
Retorno-----------: cCF = Retorna o campo livre do codigo de barras.
===============================================================================================================================
*/
User Function AFIN008()

SetPrvt("cCF")

If Len(Alltrim(SE2->E2_CODBAR)) == 44
	cCF := Substr(SE2->E2_CODBAR,20,25)
Else
	If Len(Alltrim(SE2->E2_CODBAR)) <> 44
		cCF := Substr(SE2->E2_CODBAR,5,5)
		cCF += Substr(SE2->E2_CODBAR,11,10)
		cCF += Substr(SE2->E2_CODBAR,22,10)
	EndIf	
EndIf	
           
Return(cCF)