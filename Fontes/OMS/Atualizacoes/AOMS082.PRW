/*
                                    ATUALIZACOES SOFRIDAS DESDE A CONSTRUÇAO INICIAL
===============================================================================================================================
       Autor      |    Data    |                              Motivo                                                          |
-------------------------------------------------------------------------------------------------------------------------------
=============================================================================================================================== 
*/
#Include 'Protheus.ch'
/*
===============================================================================================================================
Programa----------: AOMS082
Autor-------------: Julio de Paula Paz
Data da Criacao---: 13/10/2016
===============================================================================================================================
Descrição---------: Rotina de consulta da integração e recebimento de dados Transportadoras via webservice para empresa RDC.
===============================================================================================================================
Uso---------------: Italac
===============================================================================================================================
Parametros--------: Nenhum
===============================================================================================================================
Retorno-----------: Nenhum
===============================================================================================================================
*/  
User Function AOMS082()
Local _aCores := {}
Private aRotina := {}
Private cCadastro 

Begin Sequence
   cCadastro := "Integração dos Dados dos Transportadoras Via Webservice: Italac <---> RDC"
   Aadd(aRotina,{"Pesquisar" ,"AxPesqui" ,0,1})
   Aadd(aRotina,{"Visualizar","AxVisual",0,2})
   Aadd(aRotina,{"Legenda"   ,"U_AOMS082L" ,0,3})
   
   Aadd(_aCores,{"ZFP_SITUAC == 'N'" ,"BR_VERDE" })
   Aadd(_aCores,{"ZFP_SITUAC == 'P'" ,"BR_VERMELHO" })
   Aadd(_aCores,{"ZFP_SITUAC == 'R'" ,"BR_AMARELO" })

   DbSelectArea("ZFP")
   ZFP->(DbSetOrder(1)) 
   ZFP->(DbGoTop())
   MBrowse(6,1,22,75,"ZFP", , , , , , _aCores)
   
End Sequence

Return Nil    

/*
===============================================================================================================================
Programa----------: AOMS082L
Autor-------------: Julio de Paula Paz
Data da Criacao---: 13/09/2016
===============================================================================================================================
Descrição---------: Rotina de Exibição da Legenda do MBrowse.
===============================================================================================================================
Uso---------------: Italac
===============================================================================================================================
Parametros--------: Nenhum
===============================================================================================================================
Retorno-----------: Nenhum
===============================================================================================================================
*/  
User Function AOMS082L       
Local _aLegenda := {}

Begin Sequence
   Aadd(_aLegenda,{"BR_VERDE"    ,"Não Processado" })
   Aadd(_aLegenda,{"BR_AMARELO"  ,"Rejeitada" })
   Aadd(_aLegenda,{"BR_VERMELHO" ,"Processado" })

   BrwLegenda(cCadastro, "Legenda", _aLegenda)

End Sequence

Return Nil

                     
